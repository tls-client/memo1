<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEO生産性ダッシュボード Pro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div>
                    <h1>⚡ CEO生産性ダッシュボード</h1>
                    <p class="subtitle">データ駆動型パーソナル最適化システム</p>
                </div>
                <div class="header-stats">
                    <div class="header-stat">
                        <div class="stat-icon">●</div>
                        <div>
                            <div class="stat-value" id="productivityScore">--</div>
                            <div class="stat-label">スコア</div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="grid">
            <!-- 睡眠管理 -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">◐</span>
                    <h2 class="card-title">睡眠管理</h2>
                </div>
                
                <div class="sleep-input-section">
                    <input type="time" id="bedTimeInput" placeholder="就寝時刻">
                    <input type="time" id="wakeTimeInput" placeholder="起床時刻">
                    <button class="btn btn-primary btn-small" id="updateSleepBtn">記録</button>
                </div>
                
                <div class="sleep-record">
                    <div class="sleep-label">睡眠時間</div>
                    <div class="sleep-hours" id="sleepHours">--</div>
                    <div class="sleep-label">時間</div>
                    <div class="sleep-quality" id="sleepQualityText">上記の時刻を入力して記録してください</div>
                </div>
                
                <div class="sleep-times">
                    <div class="time-box">
                        <div class="time-label">就寝</div>
                        <div class="time-value" id="bedTime">--:--</div>
                    </div>
                    <div class="time-box">
                        <div class="time-label">起床</div>
                        <div class="time-value" id="wakeTime">--:--</div>
                    </div>
                </div>
                
                <div class="recording-section">
                    <strong style="display: block; margin-bottom: 10px; color: #92400e;">● いびき・呼吸分析（AI音声解析）</strong>
                    <p style="color: #78350f; font-size: 0.95em; margin-bottom: 10px;">音声を録音してリアルタイムAI分析します</p>
                    <button class="recording-btn btn-record" id="recordBtn">録音開始</button>
                    <div class="recording-status" id="recordingStatus"></div>
                    <canvas id="audioVisualizer" width="400" height="100" style="width: 100%; margin-top: 10px; display: none; background: #000; border-radius: 8px;"></canvas>
                    <div id="audioAnalysis" style="margin-top: 15px; display: none;"></div>
                </div>
            </div>
            
            <!-- 食事管理 -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">▲</span>
                    <h2 class="card-title">食事管理</h2>
                </div>
                
                <div class="meal-input-section">
                    <input type="text" id="mealInput" placeholder="食事名を入力（例：鶏胸肉、サラダ）">
                    <button class="btn btn-primary" id="addMealBtn">追加</button>
                </div>
                
                <button class="btn btn-camera" style="width: 100%; margin-bottom: 15px;" id="startCameraBtn">● カメラでAI分析</button>
                
                <div class="camera-preview" id="cameraPreview">
                    <video id="cameraVideo" autoplay playsinline></video>
                    <img id="capturedImage" alt="撮影画像"/>
                    <canvas id="photoCanvas" style="display: none;"></canvas>
                    <div class="camera-controls">
                        <button class="btn btn-primary" id="captureBtn" style="flex: 1;">■ 撮影</button>
                        <button class="btn btn-camera" id="analyzeBtn" style="flex: 1; display: none;">● AI分析</button>
                        <button class="btn btn-secondary" id="closeCameraBtn" style="flex: 1;">✕ 閉じる</button>
                    </div>
                </div>
                
                <div class="nutrition-summary">
                    <div class="daily-goal">
                        <span>1日の目標達成率</span>
                        <span id="nutritionGoal">0%</span>
                    </div>
                </div>
                
                <div class="nutrition-grid">
                    <div class="nutrition-item">
                        <div class="nutrition-label">炭水化物</div>
                        <div class="nutrition-value" id="carbs">
